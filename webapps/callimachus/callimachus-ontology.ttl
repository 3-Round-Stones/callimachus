# 
#    Portions Copyright (c) 2009-10 Zepheira LLC, Some Rights Reserved
#    Portions Copyright (c) 2010-11 Talis Inc, Some Rights Reserved
#    Portions Copyright (c) 2011 3 Round Stones Inc, Some Rights Reserved
# 
#    Licensed under the Apache License, Version 2.0 (the "License");
#    you may not use this file except in compliance with the License.
#    You may obtain a copy of the License at
# 
#        http://www.apache.org/licenses/LICENSE-2.0
# 
#    Unless required by applicable law or agreed to in writing, software
#    distributed under the License is distributed on an "AS IS" BASIS,
#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#    See the License for the specific language governing permissions and
#    limitations under the License.
#
@prefix xsd:<http://www.w3.org/2001/XMLSchema#>.
@prefix rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix rdfs:<http://www.w3.org/2000/01/rdf-schema#>.
@prefix owl:<http://www.w3.org/2002/07/owl#>.
@prefix foaf:<http://xmlns.com/foaf/0.1/>.
@prefix msg:<http://www.openrdf.org/rdf/2011/messaging#>.
@prefix calli:<http://callimachusproject.org/rdf/2009/framework#>.
@prefix :<#>.

<> a </callimachus/SchemaGraph>.

################################
# Ontology
################################

<http://callimachusproject.org/rdf/2009/framework> a owl:Ontology;
	rdfs:label "Callimachus Ontology";
	rdfs:comment "Vocabulary used to create Callimachus applications";
	owl:versionInfo "0.13".

################################
# Class
################################

calli:Composite a owl:Class;
	rdfs:label "Composite";
	rdfs:comment "Class of resources that contain nested components, where the component URIs have their parent URI as a prefix".

calli:Folder a owl:Class;
	rdfs:subClassOf calli:Composite;
	rdfs:label "Folder";
	rdfs:comment "A resource URI namespace ending in a slash".

calli:Origin a owl:Class;
	rdfs:subClassOf calli:Folder;
	rdfs:label "Origin";
	rdfs:comment "A URI with a '/' path that is served by a Callimachus system".

calli:AnybodyRealm a owl:Class;
	rdfs:label "Anybody Realm";
	rdfs:comment "A realm that authenticates any agent".

calli:NobodyRealm a owl:Class;
	rdfs:label "Nobody Realm";
	rdfs:comment "A realm that forbids all agents".

calli:LocalRealm a owl:Class;
	rdfs:label "Local Realm";
	rdfs:comment "A realm that only authenticates local agents".

calli:AccountManager a owl:Class;
	rdfs:label "Account Manager";
	rdfs:comment "A managed set of users that can authenticate using HTTP digest credentials".

calli:Party a owl:Class;
	rdfs:label "Party";
	rdfs:comment "A user or group of users".

calli:User a owl:Class;
	rdfs:subClassOf calli:Party;
	rdfs:label "Agent";
	rdfs:comment "A digest credential with a MD5 algorithm".

calli:Group a owl:Class;
	rdfs:subClassOf calli:Party;
	rdfs:label "Group";
	rdfs:comment "A collection of users".

calli:Manifest a owl:Class;
	rdfs:label "Manifest";
	rdfs:comment "Information about a Web application server".

calli:Menu a owl:Class;
	rdfs:label "Menu";
	rdfs:comment "A hierarchical menu of human-readable links".

calli:Theme a owl:Class;
	rdfs:label "Theme";
	rdfs:comment "A Callimachus Web theme of HTML templates, CSS, and JavaScript";
	rdfs:subClassOf calli:ScriptBundle.

calli:ScriptBundle a owl:Class;
	rdfs:label "Script Bundle";
	rdfs:comment "A collection of JavaScript files that are downloaded and compressed together".

calli:Creatable a owl:DeprecatedClass;
	rdfs:label "Creatable";
	rdfs:comment "Use </callimachus/Creatable> instead".

calli:Editable a owl:DeprecatedClass;
	rdfs:label "Editable";
	rdfs:comment "Use </callimachus/Editable> instead".

calli:Viewable a owl:DeprecatedClass;
	rdfs:label "Viewable";
	rdfs:comment "Use </callimachus/Viewable> instead".

calli:Page a owl:DeprecatedClass;
	rdfs:label "Page";
	rdfs:comment "Use </callimachus/Page> instead".

calli:NamedGraph a owl:DeprecatedClass;
	rdfs:label "Named Graph";
	rdfs:comment "Use </callimachus/NamedGraph> instead".

################################
# Annotation
################################

calli:reader a owl:AnnotationProperty;
	rdfs:label "reader";
	rdfs:comment "User or group of users that can view individual resources of this class".

calli:author a owl:AnnotationProperty;
	rdfs:label "author";
	rdfs:comment "User or group of users that can create an instance resource of this class".

calli:contributor a owl:AnnotationProperty;
	rdfs:label "contributor";
	rdfs:comment "User or group of users that can create a resource in this namespace".

calli:editor a owl:AnnotationProperty;
	rdfs:label "editor";
	rdfs:comment "User or group of users that can create resources in this namespace, can edit this resource, and edit members of this class".

calli:administrator a owl:AnnotationProperty;
	rdfs:label "administrator";
	rdfs:comment "User or group of users that can interact, create and modify this resource and members of this class".

calli:edit a owl:AnnotationProperty;
	rdfs:label "edit";
	rdfs:comment "The RDFa page template used to edit individual resources of this class using a Web browser".

calli:view a owl:AnnotationProperty;
	rdfs:label "view";
	rdfs:comment "The RDFa page template used to display individual resources of this class in a Web browser".

calli:create a owl:AnnotationProperty;
	rdfs:label "create";
	rdfs:comment "The RDFa page template used to create resources of this class using a Web browser".

calli:type a owl:AnnotationProperty;
	rdfs:label "type";
	rdfs:comment "The content type for binary or text representations of resources of this class".

################################
# Property
################################

calli:algorithm a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "algorithm";
	rdfs:comment "A value of 'MD5' indicates this Agent is uses digest authentication";
	rdfs:domain calli:User;
	rdfs:range rdf:PlainLiteral.

calli:encoded a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "encoded";
	rdfs:comment "The MD5 encoded username:realm:password";
	rdfs:domain calli:User;
	rdfs:range xsd:hexBinary.

calli:name a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "name";
	rdfs:comment "The username for this agent";
	rdfs:domain calli:User;
	rdfs:range rdf:PlainLiteral.

calli:email a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "email";
	rdfs:comment "The primary email address for this user";
	rdfs:domain calli:User;
	rdfs:range rdf:PlainLiteral.

calli:authNamespace a owl:ObjectProperty;
	rdfs:label "auth namespace";
	rdfs:comment "Folder of users that can be authenticated by this realm";
	rdfs:domain calli:AccountManager;
	rdfs:range calli:Folder.

calli:authName a rdf:Property, owl:FunctionalProperty;
	rdfs:label "auth name";
	rdfs:comment "A string to be displayed to users so they know which username and password to use. This string should contain at least the name of the host performing the authentication and might additionally indicate the collection of users who might have access. This string is used to encode the passwords and changing it will invalidates existing encoded passwords";
	rdfs:domain calli:AccountManager.

calli:forbidden a owl:ObjectProperty;
	rdfs:label "forbidden";
	rdfs:comment "The RDFa page template used when an agent is forbidden from the requested resource";
	rdfs:domain calli:Manifest;
	rdfs:range calli:Page.

calli:unauthorized a owl:ObjectProperty;
	rdfs:label "authorized";
	rdfs:comment "The RDFa page template used when an agent is aunothorized from the requested resource";
	rdfs:domain calli:Manifest;
	rdfs:range calli:Page.

calli:authentication a owl:ObjectProperty;
	rdfs:label "authentication";
	rdfs:comment "The realm used for authentication";
	rdfs:domain calli:Manifest;
	rdfs:range calli:AccountManager.

calli:template a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "template";
	rdfs:comment "An XSL file that adds common header and footer to xhtml templates";
	rdfs:domain calli:Manifest.

calli:logo a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "logo";
	rdfs:comment "The logo image that should be shown on pages using the configured theme";
	rdfs:domain calli:Manifest.

calli:favicon a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "favicon";
	rdfs:comment "A small logo image that should be shown on pages using the configured theme";
	rdfs:domain calli:Manifest.

calli:rights a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "rights";
	rdfs:comment "Rights statement for the data in this Web application server";
	rdfs:domain calli:Manifest;
	rdfs:range rdf:XMLLiteral.

calli:member a owl:ObjectProperty;
	rdfs:label "member";
	rdfs:comment "Agent that is part of this group";
	rdfs:domain calli:Group;
	rdfs:range calli:Agent.

calli:hasComponent a owl:ObjectProperty;
	rdfs:label "has component";
	rdfs:comment "A nested resource with a URI that starts with this resource URI with one additional path, fragement, or component segment";
	rdfs:domain calli:Composite.

calli:describedBy a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "described by";
	rdfs:comment "The target URL to use as a directory index";
	rdfs:domain calli:Folder.

calli:item a owl:ObjectProperty;
	rdfs:label "item";
	rdfs:comment "A menu item that is part of this menu";
	rdfs:domain calli:Menu;
	rdfs:range calli:Menu.

calli:position a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "position";
	rdfs:comment "The position this menu item should be placed";
	rdfs:domain calli:Menu;
	rdfs:range xsd:integer.

calli:link a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "link";
	rdfs:comment "The target of this menu entry";
	rdfs:domain calli:Menu.

calli:minified a owl:DatatypeProperty;
	rdfs:label "minified";
	rdfs:comment "Level of minification that should be applied to this bundle. Zero represents no minification. One represents minimal minification";
	rdfs:domain calli:ScriptBundle;
	rdfs:range xsd:integer.

calli:theme a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "theme";
	rdfs:comment "The primary theme used for this manifest";
	rdfs:domain calli:Manifest;
	rdfs:range calli:Theme.

calli:layout a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "layout";
	rdfs:comment "The HTML template used by this theme as the primary page layout";
	rdfs:domain calli:Theme.

calli:style a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "style";
	rdfs:comment "The primary CSS style for this theme";
	rdfs:domain calli:Theme.

calli:colour a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "colour";
	rdfs:comment "The primary CSS style for this colour scheme";
	rdfs:domain calli:Theme.

calli:jqueryui a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "jQuery ui";
	rdfs:comment "The jQuery UI CSS Framework theme used for this colour scheme";
	rdfs:domain calli:Theme.

################################
# Message
################################

# interface method used by ManifestSupport
calli:IsAuthorized rdfs:subClassOf msg:Message;
	rdfs:subClassOf [owl:onProperty msg:literal; owl:cardinality "1"^^xsd:nonNegativeInteger];
	rdfs:subClassOf [owl:onProperty msg:literal; owl:allValuesFrom xsd:boolean].

<http://callimachusproject.org/rdf/2009/framework/IsAuthorized#credential> a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:domain calli:IsAuthorized.

<http://callimachusproject.org/rdf/2009/framework/IsAuthorized#method> a owl:FunctionalProperty, owl:DatatypeProperty;
	rdfs:domain calli:IsAuthorized;
	rdfs:range xsd:string;.

<http://callimachusproject.org/rdf/2009/framework/IsAuthorized#query> a owl:FunctionalProperty, owl:DatatypeProperty;
	rdfs:domain calli:IsAuthorized;
	rdfs:range xsd:string.

################################
# Thing
################################

calli:nobody a calli:NobodyRealm.

