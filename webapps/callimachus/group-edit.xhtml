<?xml version="1.0" encoding="UTF-8" ?>
<?xml-stylesheet type="text/xsl" href="/callimachus/template.xsl"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
	xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
	xmlns:calli="http://callimachusproject.org/rdf/2009/framework#"
	xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
	xmlns:skos="http://www.w3.org/2004/02/skos/core#">
<head>
	<title about="?this">{rdfs:label}</title>
	<script type="text/javascript">
		function saveChangeNote() {
			var note = document.getElementById('note')
			if (note.value) {
				note.setAttribute('property', 'skos:changeNote')
				note.setAttribute('content', note.value)
			}
		}
	</script>
</head>
<body about="?this">
	<h1><span property="rdfs:label" /> Group</h1>
	<div id="sidebar">
		<aside>
			<p>Use Wiki text to describe the purpose of this group</p>
			<p>Contributors can invite new users</p>
			<p>Administrators can edit this page, invite new users, and remove users from this group</p>
			<p>Use the<a class="ui-icon ui-icon-close"/>icon to remove a user from this group without deleting the user account</p>
			<p>To delete a user account: click the user link on the view tab and use the edit tab of the user account</p>
		</aside>
	</div>
	<form id="form" method="POST" action="" enctype="application/sparql-update" about="?this"
			onsubmit="saveChangeNote()">
		<label for="comment">Description</label>
		<div>
			<textarea id="comment" class="auto-expand">{rdfs:comment}</textarea>
		</div>
		<div dropzone="link s:text/uri-list" ondrop="return calli.insertResource(event)">
			<label>Members <a href="/user/?create=/callimachus/User" title="Invite"
					onclick="return calli.createResource(event)" class="ui-icon ui-icon-newwin" /></label>
			<div rel="calli:member" class="vbox">
				<span about="?member" typeof="calli:User" class="ui-state-highlight ui-corner-all">
					<span property="rdfs:label" />
					<a href="{?member}" title="Remove user from group" onclick="return calli.removeResource(event)" class="ui-icon ui-icon-close" />
				</span>
			</div>
		</div>
		<hr />
		<label for="note">Change summary</label>
		<div>
			<input type="text" id="note" maxlength="140" class="auto-expand" />
		</div>
		<button id="save" type="submit">Save</button>
		<button id="cancel" type="button" onclick="location.replace('?view')">Cancel</button>
		<button id="delete" type="button" onclick="calli.deleteResource(event)">Delete</button>
	</form>
</body>
</html>
