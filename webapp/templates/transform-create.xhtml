<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
    xmlns:calli="http://callimachusproject.org/rdf/2009/framework#">
<head>
    <title>New Stylesheet Transform</title>
    <link rel="help" href="../../callimachus-reference#Transform" target="_blank" title="Help" />
    <link href="http://www.w3.org/TR/xslt20/" target="_blank" title="XSL Transformations" />
    <link href="http://www.w3.org/TR/xpath-functions/" target="_blank" title="XPath 2.0 Functions and Operators" />
    <script type="text/javascript">
        $(calli.fillElement.bind(this, '#editor-iframe'));
    </script>
    <script id="template" type="text/xsl"><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<xsl:stylesheet version="2.0"  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
    xmlns="http://www.w3.org/1999/xhtml" xmlns:xhtml="http://www.w3.org/1999/xhtml"
    xpath-default-namespace="http://www.w3.org/1999/xhtml"
    exclude-result-prefixes="xhtml">
<xsl:output method="xml" indent="yes" />

<xsl:template match="@*|node()">
    <xsl:copy>
        <xsl:apply-templates select="@*|node()"/>
    </xsl:copy>
</xsl:template>

</xsl:stylesheet>]]></script>
</head>
<body>
    <form role="form" id="form" method="POST" action="" enctype="text/xsl" class="container"
            onsubmit="calli.submitEditor(event, $('#label').val())">
        <fieldset class="form-group">
            <div>
                <input id="label" type="text" class="input-lg form-control" value="untitled.xsl" required="required" autofocus="autofocus"
                    onfocus="this.setSelectionRange(0, this.value.lastIndexOf('.'))" />
            </div>
        </fieldset>
        <fieldset class="form-group">
            <iframe id="editor-iframe" name="editor-iframe" src="../../xml-editor.html" onload="calli.initEditor(event,$('#template').text()||$('#template').html().replace(/^\s+/,''))"> </iframe>
        </fieldset>
        <fieldset class="form-group">
            <button id="create-transform" type="submit" class="btn btn-success">Create</button>
        </fieldset>
    </form>
</body>
</html>

