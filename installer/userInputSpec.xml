<userInput>
  <!-- Panel 0: Authorities and port configuration -->
    <panel order="0">
        <field type="title" txt="Host Configuration" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left"
               txt="$APP_NAME will be accessed at the Web address given in the Primary Authority field and will bind to the port specified.  Change these values to match your intended deployment." />
        <field type="text" align="left" variable="callimachus.ORIGIN">
            <spec txt="Primary Authority:" size="25" set="${callimachus.ORIGIN}"/>
        </field>
        <field type="text" align="left" variable="callimachus.PORT">
            <spec txt="Port:" size="25" set="${callimachus.PORT}"/>
        </field>
        <field type="space"/>
        <field type="divider" align="bottom"/>
        <field type="staticText" align="left"
               txt="$APP_NAME can also answer to alternate HTTP authorities.  Add them here if your server has multiple hostnames and you wish $APP_NAME to use them." />
        <field type="text" align="left" variable="secondaryauthority1">
            <spec txt="Secondary Authority 1:" size="25" set=""/>
        </field>
        <field type="text" align="left" variable="secondaryauthority2">
            <spec txt="Secondary Authority 2:" size="25" set=""/>
        </field>
        <field type="text" align="left" variable="secondaryauthority3">
            <spec txt="Secondary Authority 3:" size="25" set=""/>
        </field>
        <field type="text" align="left" variable="secondaryauthority4">
            <spec txt="Secondary Authority 4:" size="25" set=""/>
        </field>
        <field type="text" align="left" variable="secondaryauthority5">
            <spec txt="Secondary Authority 5:" size="25" set=""/>
        </field>
        <field type="divider" align="bottom"/>
    </panel>
  <!-- Panel 1: Mail configuration -->
    <panel order="1">
        <field type="title" txt="Mail Configuration" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left"
               txt="$APP_NAME uses email to inform new users of their initial password." />
        <field type="combo" variable="callimachus.mail.transport.protocol">
          <description align="left" txt="Email transport protocol:" />
          <spec>
            <choice txt="SMTPS" value="smtps" set="${callimachus.mail.transport.protocol}" />
            <choice txt="SMTP" value="smtp" />
          </spec>
        </field>
        <field type="text" align="left" variable="callimachus.mail.from">
          <spec txt="Email from address:" size="25" set="${callimachus.mail.from}"/>
          <validator class="com.izforge.izpack.util.RegularExpressionValidator"
                     txt="Your email from address does not appear to be valid.">
            <param name="pattern"
                   value="[a-zA-Z0-9.!$%&amp;*+/=?^_{}~-]+@[a-zA-Z0-9.-]+"
            />
          </validator>
        </field>
        <field type="text" align="left" variable="callimachus.mail.smtps.host">
          <spec txt="Email hostname:" size="25" set="${callimachus.mail.smtps.host}"/>
          <validator class="com.izforge.izpack.util.RegularExpressionValidator"
                     txt="Your email hostname does not appear to be valid.">
            <param name="pattern"
                   value="[a-zA-Z0-9.-]+"
            />
          </validator>
        </field>
        <field type="text" align="left" variable="callimachus.mail.smtps.port">
          <spec txt="Email host port:" size="6" set="${callimachus.mail.smtps.port}"/>
          <validator class="com.izforge.izpack.util.RegularExpressionValidator"
                     txt="Your port does not appear to be valid.">
            <param name="pattern"
                   value="[0-9]{1,6}"
            />
          </validator>
        </field>
        <field type="combo" variable="callimachus.mail.smtps.auth">
          <description align="left" txt="Authentication required:" />
          <spec>
            <choice txt="yes" value="yes" set="${callimachus.mail.smtps.auth}" />
            <choice txt="no" value="no"/>
          </spec>
        </field>
        <field type="text" align="left" variable="callimachus.mail.user">
            <spec txt="Auth username:" size="25" set="${callimachus.mail.user}"/>
        </field>
        <field type="password" align="left" variable="callimachus.mail.password">
          <spec>
            <pwd txt="Password:" size="25" set="${callimachus.mail.password}"/>
            <pwd txt="Retype Password:" size="25" set=""/>
          </spec>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator"
                     txt="Both passwords must match." />
        </field>
    </panel>
  <!-- Panel 2: Repository configuration -->
    <panel order="2">
        <field type="title" txt="Repository Configuration" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left"
               txt="Choose the RDF database that $APP_NAME will use.  Caution: Callimachus only ships with Sesame.  Alternative repositories should already be configured; if not, exit the installer and do that first." />
        <field type="combo" variable="repository">
          <description align="left" txt="RDF repository:" />
          <spec>
            <choice txt="Sesame" value="sesame" set="true" />
            <choice txt="OWLIM" value="owlim" />
            <choice txt="AllegroGraph" value="allegrograph" />
          </spec>
        </field>
        <field type="divider" align="top" os="unix" />
        <field type="text" align="left" variable="daemonuser" os="unix">
            <spec txt="Daemon username:" size="15" set="callimachus"/>
        </field>
        <field type="text" align="left" variable="daemongroup" os="unix">
            <spec txt="Daemon group name:" size="15" set="callimachus"/>
        </field>
        <field type="divider" align="top"/>
    </panel>
  <!-- Panel 3: Initial user configuration -->
    <panel order="3">
        <field type="title" txt="Initial User Configuration" bold="true" size="1" />
        <field type="divider" align="top"/>
        <field type="staticText" align="left"
               txt="You will need an initial $APP_NAME user account to log into the $APP_NAME Web user interface.  Choose a strong password if you are using a public server!" />
        <field type="text" align="left" variable="callimachususername">
          <spec txt="Callimachus username:" size="25" set="admin"/>
          <validator class="com.izforge.izpack.util.NotEmptyValidator" txt="You must enter a username."/>
        </field>
        <field type="password" align="left" variable="callimachuspassword">
          <spec>
            <pwd txt="Password:" size="25" set=""/>
            <pwd txt="Retype Password:" size="25" set=""/>
          </spec>
          <validator class="com.izforge.izpack.util.PasswordEqualityValidator"
                     txt="Both passwords must match." />
        </field>
        <field type="divider" align="top"/>
    </panel>
</userInput>
