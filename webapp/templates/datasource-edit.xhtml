<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
    xmlns:sd="http://www.w3.org/ns/sparql-service-description#">
<head>
    <title resource="?this">{rdfs:label}</title>
    <script type="text/javascript">
        $(function(){
            var sd = "http://www.w3.org/ns/sparql-service-description#";
            var label = 'label[rel="sd:supportedLanguage"]';
            $(label + '[resource="' + sd + 'SPARQL11Query"]').each(function(){
                if ($(this).find('input:checked').length) {
                    var other = $(this).siblings('label[resource="' + sd + 'SPARQL11Query"]');
                    $(this).children('span').text(other.children('span').text());
                    other.remove();
                }
            });
            $(label + '[resource="' + sd + 'SPARQL11Update"]').each(function(){
                if ($(this).find('input:checked').length) {
                    var other = $(this).siblings('label[resource="' + sd + 'SPARQL11Update"]');
                    $(this).children('span').text(other.children('span').text());
                    other.remove();
                }
            });
            $('label[class="checkbox"]').change(function(){
                if ($(this).children('input:checked').length) {
                    $(this).attr("rel", "sd:supportedLanguage");
                } else {
                    $(this).removeAttr("rel");
                }
            });
        });
    </script>
</head>
<body resource="?this">
    <h1 property="rdfs:label" />
    <form method="POST" action="" enctype="application/sparql-update" resource="?this">
        <fieldset>
            <div class="control-group">
                <label for="label" class="control-label">Label</label>
                <div class="controls">
                    <input type="text" id="label" value="{rdfs:label}" required="required" />
                </div>
            </div>
            <div class="control-group">
                <label for="comment" class="control-label">Comment</label>
                <div class="controls">
                    <textarea id="comment" class="auto-expand">{rdfs:comment}</textarea>
                </div>
            </div>
            <div class="control-group">
                <label for="support" class="control-label">Support</label>
        		<div id="support" class="controls">
                	<label class="checkbox" resource="http://www.w3.org/ns/sparql-service-description#SPARQL11Query">
        				<input type="checkbox" name="support" />
        				<span>SPARQL Query</span>
        			</label>
                	<label class="checkbox" rel="sd:supportedLanguage" resource="?support">
        				<input type="checkbox" name="support" checked="checked" />
        				<span>{?support}</span>
        			</label>
            		<label class="checkbox" resource="http://www.w3.org/ns/sparql-service-description#SPARQL11Update">
        				<input type="checkbox" name="support" />
        				<span>SPARQL Update</span>
        			</label>
        		</div>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-primary">Save</button>
                <button type="button" onclick="window.location.replace('?view')" class="btn">Cancel</button>
                <button type="button" onclick="calli.deleteResource(event)" class="btn btn-danger">Delete</button>
            </div>
        </fieldset>
    </form>
</body>
</html>
