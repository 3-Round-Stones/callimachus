<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
    xmlns:calli="http://callimachusproject.org/rdf/2009/framework#">
<head>
    <title>New Pipeline</title>
    <link rel="help" href="../../callimachus-reference#Pipeline" target="_blank" title="Help" />
    <link href="../../callimachus-reference#XProc_Reference" target="_blank" title="Reference" />
    <link href="http://www.w3.org/TR/xproc/" target="_blank" title="XProc: An XML Pipeline Language" />
    <script type="text/javascript">
        $(calli.fillElement.bind(this, '#editor-iframe'));
    </script>
    <script id="template" type="application/xproc+xml"><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<p:pipeline version="1.0"
        xmlns:p="http://www.w3.org/ns/xproc"
        xmlns:c="http://www.w3.org/ns/xproc-step"
        xmlns:l="http://xproc.org/library">

<p:identity />

</p:pipeline>]]></script>
</head>
<body>
    <form role="form" id="form" method="POST" action="" enctype="application/xproc+xml" class="container"
            onsubmit="calli.submitEditor(event, $('#label').val())">
        <fieldset class="form-group">
            <div>
                <input id="label" type="text" class="input-lg form-control" value="untitled.xpl" required="required" autofocus="autofocus"
                    onfocus="this.setSelectionRange(0, this.value.lastIndexOf('.'))" />
            </div>
        </fieldset>
        <fieldset class="form-group">
            <iframe id="editor-iframe" name="editor-iframe" src="../../xml-editor.html" onload="calli.initEditor(event,$('#template').text()||$('#template').html().replace(/^\s+/,''))"> </iframe>
        </fieldset>
        <fieldset class="form-group">
            <button id="create-pipeline" type="submit" class="btn btn-success">Create</button>
        </fieldset>
    </form>
</body>
</html>

