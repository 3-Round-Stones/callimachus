<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
    xmlns:dcterms="http://purl.org/dc/terms/"
    xmlns:calli="http://callimachusproject.org/rdf/2009/framework#"
    xmlns:prov="http://www.w3.org/ns/prov#">
<head>
    <title resource="?this">{rdfs:label}</title>
    <link href="?changes" type="application/atom+xml" rel="alternate" />
    <link href="?contents" type="application/atom+xml" rel="contents" />
    <link rel="edit-form" href="?edit" />
    <link rel="comments" href="?discussion" />
    <link rel="version-history" href="?history" />
    <link id="file-class-link" href="../types/File" />
    <link id="create-menu-json" href="../queries/folder-create-menu.rq?results&amp;tqx=out:table" />
    <link href="?archive" title="Export folder contents" />
    <link href="?import" title="Import folder contents" />
    <style type="text/css" media="all">
        .tab-content { overflow: visible; }
        .dropup .dropdown-menu { top: auto; bottom: -7px; }
        .ui-grid-header nav { text-align: left; display: inline-block; }
        .ui-grid-header .btn-inverse { color: white; }
        .btn-x-small { padding: 3px 5px; }
        .btn-x-small .icon-upload { height: 12px; background-position: -144px -25px; }
        .btn-x-small .icon-arrow-up { height: 12px; }
        .btn-x-small .icon-folder-open { height: 12px; }
        .btn-x-small .icon-circle-arrow-up { height: 12px; background-position: -288px -145px; }
        .btn-x-small .icon-circle-arrow-down { height: 12px; background-position: -312px -145px; }

        .filecol { width:100% }
        .ui-grid table tbody td.filecell { text-align: left }
        #table.small .permission { display:none; }

        /* Grid
        ----------------------------------*/
        .ui-grid { font-size:small}
        .ui-grid .ui-grid-content { width: 100%; border-collapse: collapse; border-spacing:0; }
        .ui-grid table thead th { white-space:nowrap; }
        .ui-grid table tbody td { text-align: right; white-space:nowrap; }
        .ui-grid table tbody td, .ui-grid .ui-grid-header, .ui-grid table thead a { padding: .4em;  }
        .ui-grid .ui-grid-header, .ui-grid .ui-grid-footer { padding: .8em .4em; text-align: center; }
        .ui-grid .ui-grid-footer { background-image: none; font-weight: normal; text-align: left; }
        .ui-grid table thead a { display: block;  }
        .ui-grid .ui-icon { float: left; }
    </style>
    <script type="text/javascript" src="../scripts/folder-view.js"></script>
    <script type="text/javascript" src="../scripts/folder-create-menu.js"></script>
</head>
<body resource="?this">
    <div id="folder-box" class="ui-grid ui-widget ui-widget-content ui-corner-all" dropzone="copy f:image/pjpeg f:image/x-png f:image/png f:image/jpeg f:image/gif f:image/vnd.microsoft.icon f:application/rdf+xml f:application/sparql-query f:application/xhtml+xml f:text/javascript f:text/css f:text/plain f:application/docbook+xml">
        <div class="ui-grid-header ui-widget-header ui-corner-top">
            <span class="hidden-logout">
                <nav class="pull-left btn-group">
                    <a rev="calli:hasComponent" resource="?parent" href="{?parent}?view" class="btn btn-inverse btn-x-small btn-small" title="Up"><i class="icon-arrow-up icon-white"></i></a>
                </nav>
                <nav class="pull-left dropdown btn-group">
                    <a id="create-menu" href="javascript:void(0)" class="btn btn-small btn-inverse" title="Create menu" data-toggle="dropdown">Create</a>
                    <ul id="create-menu-more" class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">
                    </ul>
                    <a href="../types/Folder" class="btn btn-small btn-x-small btn-inverse" title="Create folder"><i class="icon-folder-open icon-white"></i></a>
                    <a href="?archive" class="btn btn-small btn-x-small btn-inverse" title="Export folder contents"><i class="icon-circle-arrow-down icon-white"></i></a>
                    <a href="?import" class="btn btn-small btn-x-small btn-inverse" title="Import folder contents"><i class="icon-circle-arrow-up icon-white"></i></a>
                    <a href="../types/File" class="btn btn-small btn-x-small btn-inverse" title="Upload file"><i class="icon-upload icon-white"></i></a>
                </nav>
            </span>
            <span property="rdfs:label"/>
        </div>
        <table id="table" class="ui-grid-content ui-widget-content">
            <colgroup class="filecol" />
            <thead>
                <tr>
                    <th class="ui-state-default">File</th>
                    <th class="ui-state-default">Updated</th>
                    <th class="ui-state-default permission">Readers</th>
                    <th class="ui-state-default permission">Subscribers</th>
                    <th class="ui-state-default permission">Contributors</th>
                    <th class="ui-state-default permission">Editors</th>
                    <th class="ui-state-default permission">Administrators</th>
                </tr>
            </thead>
            <tbody id="tfolders" rel="calli:hasComponent">
                <tr resource="?folder" typeof="calli:Folder">
                    <td class="ui-widget-content filecell">
                        <a href="{?folder}?view" property="rdfs:label" content="?flabel">
                            <img class="icon" src="../images/folder.png" /><span>{?flabel}</span>
                        </a>
                    </td>
                    <td class="ui-widget-content timecell">
                        <span rel="prov:wasGeneratedBy" resource="?activity">
                            <time class="abbreviated" property="prov:endedAtTime"/>
                        </span>
                    </td>
                    <td class="ui-widget-content permission">
                        <a rel="calli:reader" href="?reader">
                            <span property="rdfs:label"/>
                        </a>
                    </td>
                    <td class="ui-widget-content permission">
                        <a rel="calli:subscriber" href="?subscriber">
                            <span property="rdfs:label"/>
                        </a>
                    </td>
                    <td class="ui-widget-content permission">
                        <a rel="calli:contributor" href="?contributor">
                            <span property="rdfs:label"/>
                        </a>
                    </td>
                    <td class="ui-widget-content permission">
                        <a rel="calli:editor" href="?editor">
                            <span property="rdfs:label"/>
                        </a>
                    </td>
                    <td class="ui-widget-content permission">
                        <a rel="calli:administrator" href="?administrator">
                            <span property="rdfs:label"/>
                        </a>
                    </td>
                </tr>
            </tbody>
            <tbody id="tfiles">
            </tbody>
        </table>
        <div class="ui-grid-footer ui-widget-header ui-corner-bottom">
            <div id="result-status" class="ui-grid-results">
                <span>Showing results <span id="totalEntries" /> of <span id="totalResults" /></span>
            </div>
        </div>
    </div>
</body>
</html>

