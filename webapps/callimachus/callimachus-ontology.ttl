# 
#    Portions Copyright (c) 2009-10 Zepheira LLC, Some Rights Reserved
#    Portions Copyright (c) 2010-11 Talis Inc, Some Rights Reserved
#    Portions Copyright (c) 2011 3 Round Stones Inc, Some Rights Reserved
# 
#    Licensed under the Apache License, Version 2.0 (the "License");
#    you may not use this file except in compliance with the License.
#    You may obtain a copy of the License at
# 
#        http://www.apache.org/licenses/LICENSE-2.0
# 
#    Unless required by applicable law or agreed to in writing, software
#    distributed under the License is distributed on an "AS IS" BASIS,
#    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#    See the License for the specific language governing permissions and
#    limitations under the License.
#
@prefix xsd:<http://www.w3.org/2001/XMLSchema#>.
@prefix rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix rdfs:<http://www.w3.org/2000/01/rdf-schema#>.
@prefix owl:<http://www.w3.org/2002/07/owl#>.
@prefix msg:<http://www.openrdf.org/rdf/2011/messaging#>.
@prefix calli:<http://callimachusproject.org/rdf/2009/framework#>.
@prefix cc:<http://creativecommons.org/ns#>.

@base <http://callimachusproject.org/rdf/2009/framework>.

################################
# Ontology
################################

<> a owl:Ontology;
	rdfs:label "Callimachus Ontology";
	rdfs:comment "Vocabulary used to create Callimachus applications".

################################
# Class
################################

calli:Alias a owl:Class;
	rdfs:label "Alias";
	rdfs:comment "Defines a resource that, when resolved, will either redirect or proxy the response of its target to the client".

calli:Article a owl:Class;
	rdfs:label "Article";
	rdfs:comment "A self-contained composition that is intended to be independently distributable or reusable".

calli:Creator a owl:Class;
	rdfs:label "Creator";
	rdfs:comment "Proxy resources to create new resources".

calli:Creatable a owl:Class;
	rdfs:label "Viewable";
	rdfs:comment "Set of classes that can be instantiated from a Web browser".

calli:Editable a owl:Class;
	rdfs:label "Editable";
	rdfs:comment "Resources that can be edited".

calli:Viewable a owl:Class;
	rdfs:label "Viewable";
	rdfs:comment "Resources that can be viewed from a Web browser".

calli:Folder a owl:Class;
	rdfs:label "Folder";
	rdfs:comment "A resource URI namespace ending in a slash".

calli:Page a owl:Class;
	rdfs:label "Page";
	rdfs:comment "An XHTML+RDFa Web page".

calli:DomainRealm a owl:Class;
	rdfs:label "Domain Realm";
	rdfs:comment "A realm with a configurable domain".

calli:AnybodyRealm a owl:Class;
	rdfs:subClassOf calli:DomainRealm;
	rdfs:label "Anybody Realm";
	rdfs:comment "A realm that authenticates any agent".

calli:NobodyRealm a owl:Class;
	rdfs:subClassOf calli:DomainRealm;
	rdfs:label "Nobody Realm";
	rdfs:comment "A realm that forbids all agents".

calli:LocalRealm a owl:Class;
	rdfs:subClassOf calli:DomainRealm;
	rdfs:label "Local Realm";
	rdfs:comment "A realm that only authenticates local agents".

calli:AccountManager a owl:Class;
	rdfs:subClassOf calli:DomainRealm;
	rdfs:label "Account Manager";
	rdfs:comment "A managed set of users that can authenticate using HTTP digest credentials".

calli:Credential a owl:Class;
	rdfs:label "Credential";
	rdfs:comment "A digest credential with a MD5 algorithm";
	rdfs:subClassOf calli:Party.

calli:User a owl:Class;
	rdfs:label "User";
	rdfs:comment "Credentials for a person";
	rdfs:subClassOf calli:Credential.

calli:Group a owl:Class;
	rdfs:label "Group";
	rdfs:comment "A collection of credentials";
	rdfs:subClassOf calli:Party.

calli:Party a owl:Class;
	rdfs:label "Party";
	rdfs:comment "A credential, user or group of credentials".

calli:Origin a owl:Class;
	rdfs:label "Origin";
	rdfs:comment "A URI with a '/' path that is served by a Callimachus system".

calli:Manifest a owl:Class;
	rdfs:label "Manifest";
	rdfs:comment "Information about a Web application server".

calli:Menu a owl:Class;
	rdfs:label "Menu";
	rdfs:comment "A hierarchical menu of human-readable links".

calli:NamedQuery a owl:Class;
	rdfs:label "Named Query";
	rdfs:comment "Query in the RDF store that can be evaluated remotely".

calli:NamedGraph a owl:Class;
	rdfs:label "Named Graph";
	rdfs:comment "Graph in the RDF store that can be retrieved remotely".

calli:SchemaGraph a owl:Class;
	rdfs:subClassOf calli:NamedGraph;
	rdfs:label "Schema Graph";
	rdfs:comment "Graph in the RDF store that contains schema data".

calli:ScriptBundle a owl:Class;
	rdfs:label "Script Bundle";
	rdfs:comment "A collection of JavaScript files that are downloaded and compressed together".

calli:Theme a owl:Class;
	rdfs:label "Theme";
	rdfs:comment "A Callimachus Web theme of HTML templates, CSS, and JavaScript";
	rdfs:subClassOf calli:ScriptBundle.

calli:ColourScheme a owl:Class;
	rdfs:label "Colour Scheme";
	rdfs:comment "The CSS files used to colour one or more Callimachus Web themes".

################################
# Annotation
################################

calli:creates a owl:AnnotationProperty;
	rdfs:label "creates";
	rdfs:comment "Resources of this creator class can create new resources of the given creatable class".

calli:createRel a owl:AnnotationProperty;
	rdfs:label "create rel";
	rdfs:comment "Resources of this creator class will be linked, using the given inverse functional object property, to new resources created from it".

calli:createRev a owl:AnnotationProperty;
	rdfs:label "create rev";
	rdfs:comment "Resources created from resources of this creator class will be linked, using the given functional object property, to their creator".

calli:reader a owl:AnnotationProperty;
	rdfs:label "reader";
	rdfs:comment "Credential or group of credentials that can view individual resources of this class".

calli:contributor a owl:AnnotationProperty;
	rdfs:label "contributor";
	rdfs:comment "Credential or group of credentials that can create an a resource with this namespace".

calli:editor a owl:AnnotationProperty;
	rdfs:label "editor";
	rdfs:comment "Credential or group of credentials that can create and maintain members of this class or can edit and maintain this resources".

calli:administrator a owl:AnnotationProperty;
	rdfs:label "administrator";
	rdfs:comment "Credential or group of credentials that can interact with this resource remotely".

calli:edit a owl:AnnotationProperty;
	rdfs:label "edit";
	rdfs:comment "The RDFa page template used to edit individual resources of this class using a Web browser".

calli:view a owl:AnnotationProperty;
	rdfs:label "view";
	rdfs:comment "The RDFa page template used to display individual resources of this class in a Web browser".

calli:uriSpace a owl:AnnotationProperty;
	rdfs:label "uri space";
	rdfs:comment "Restricts the possible URI prefix of resources created from this class or template".

################################
# Property
################################

calli:algorithm a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "algorithm";
	rdfs:comment "A value of 'MD5' indicates this credential is a digest credential";
	rdfs:domain calli:Credential;
	rdfs:range rdf:PlainLiteral.

calli:encoded a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "encoded";
	rdfs:comment "The MD5 encoded username:realm:password";
	rdfs:domain calli:Credential;
	rdfs:range xsd:hexBinary.

calli:name a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "name";
	rdfs:comment "The username for this credential";
	rdfs:domain calli:Credential;
	rdfs:range rdf:PlainLiteral.

calli:email a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "email";
	rdfs:comment "The primary email address for this user";
	rdfs:domain calli:User;
	rdfs:range rdf:PlainLiteral.

calli:authNamespace a owl:ObjectProperty;
	rdfs:label "auth namespace";
	rdfs:comment "Folder of credentials that can be authenticated by this realm";
	rdfs:domain calli:AccountManager;
	rdfs:range calli:Folder.

calli:authName a rdf:Property, owl:FunctionalProperty;
	rdfs:label "auth name";
	rdfs:comment "A string to be displayed to users so they know which username and password to use. This string should contain at least the name of the host performing the authentication and might additionally indicate the collection of users who might have access. This string is used to encode the passwords and changing it will invalidates existing encoded passwords";
	rdfs:domain calli:AccountManager.

calli:domain a rdf:Property;
	rdfs:label "domain";
	rdfs:comment "Define the protection space for this realm to authenticate. Any URI that has a URI in this set as a prefix may be assumed to be in the same protection space";
	rdfs:domain calli:DomainRealm.

calli:origin a rdf:Property;
	rdfs:label "origin";
	rdfs:comment "Identifies the security contexts that allow user agent scripts to initiate an HTTP request that can be seamlessly authenticated with this realm. Include '*' to allow all other contexts without agent credentials";
	rdfs:domain calli:Manifest.

calli:forbidden a owl:ObjectProperty;
	rdfs:label "forbidden";
	rdfs:comment "The RDFa page template used when an agent is forbidden from the requested resource";
	rdfs:domain calli:Manifest;
	rdfs:range calli:Page.

calli:unauthorized a owl:ObjectProperty;
	rdfs:label "authorized";
	rdfs:comment "The RDFa page template used when an agent is aunothorized from the requested resource";
	rdfs:domain calli:Manifest;
	rdfs:range calli:Page.

calli:authentication a owl:ObjectProperty;
	rdfs:label "authentication";
	rdfs:comment "The realm used for authentication";
	rdfs:domain calli:Manifest;
	rdfs:range calli:AccountManager.

calli:template a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "template";
	rdfs:comment "An XSL file that adds common header and footer to xhtml templates";
	rdfs:domain calli:Manifest.

calli:logo a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "logo";
	rdfs:comment "The logo image that should be shown with this menu";
	rdfs:domain calli:Manifest.

calli:favicon a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "favicon";
	rdfs:comment "A small logo image that should be shown with this menu";
	rdfs:domain calli:Manifest.

calli:license a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "license";
	rdfs:comment "A legal document giving official permission to do something with the data in this Web application server";
	rdfs:domain calli:Manifest;
	rdfs:range cc:License.

calli:rights a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "rights";
	rdfs:comment "Rights statement for the data in this Web application server";
	rdfs:domain calli:Manifest;
	rdfs:range rdf:PlainLiteral.

calli:version a owl:FunctionalProperty, owl:DatatypeProperty;
	rdfs:label "version";
	rdfs:comment "The latest Callimachus software version hosting this origin";
	rdfs:domain calli:Origin;
	rdfs:range rdf:PlainLiteral.

calli:create a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "create";
	rdfs:comment "The RDFa page template used to create resources of this class using a Web browser";
	rdfs:domain calli:Creatable;
	rdfs:range calli:Page.

calli:member a owl:ObjectProperty;
	rdfs:label "member";
	rdfs:comment "Credential that is part of this group";
	rdfs:domain calli:Group;
	rdfs:range calli:Credential.

calli:soundex a owl:DatatypeProperty;
	rdfs:label "soundex";
	rdfs:comment "A soundex encoding of one of this resource's label or label prefix";
	rdfs:range rdf:PlainLiteral.

calli:copyOf a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "copy of";
	rdfs:comment "The authoritative canonical URL of which this alias is a copy of";
	rdfs:domain calli:Alias.

calli:aliasOf a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "alias of";
	rdfs:comment "The canonical URL for this alias";
	rdfs:domain calli:Alias.

calli:isNamespaceOf a owl:ObjectProperty;
	rdfs:label "is namespace of";
	rdfs:comment "Resources with this namespace";
	rdfs:domain calli:Folder.

calli:item a owl:ObjectProperty;
	rdfs:label "item";
	rdfs:comment "A small logo that should be shown with this menu";
	rdfs:domain calli:Menu;
	rdfs:range calli:Menu.

calli:position a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "position";
	rdfs:comment "The position this menu entry should be placed";
	rdfs:domain calli:Menu;
	rdfs:range xsd:integer.

calli:link a owl:ObjectProperty, owl:FunctionalProperty;
	rdfs:label "link";
	rdfs:comment "The target of this menu entry";
	rdfs:domain calli:Menu.

calli:minified a owl:DatatypeProperty, owl:FunctionalProperty;
	rdfs:label "minified";
	rdfs:comment "Level of minification that should be applied to this bundle. Zero represents no minification. One represents minimal minification";
	rdfs:domain calli:ScriptBundle;
	rdfs:range xsd:integer.

calli:theme a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "theme";
	rdfs:comment "The primary theme used for this manifest";
	rdfs:domain calli:Manifest;
	rdfs:range calli:Theme.

calli:layout a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "layout";
	rdfs:comment "The HTML template used by this theme as the primary page layout";
	rdfs:domain calli:Theme.

calli:style a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "style";
	rdfs:comment "The primary CSS style for this theme";
	rdfs:domain calli:Theme.

calli:aside a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "aside";
	rdfs:comment "The CSS style used in pages with aside links or notes";
	rdfs:domain calli:Theme.

calli:internetExplorer a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "internet explorer";
	rdfs:comment "Additional CSS style file for this theme in IE8";
	rdfs:domain calli:Theme.

calli:colourScheme a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "colour scheme";
	rdfs:comment "The primary colour scheme used for this manifest";
	rdfs:domain calli:Manifest;
	rdfs:range calli:ColourScheme.

calli:colour a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "colour";
	rdfs:comment "The primary CSS style for this colour scheme";
	rdfs:domain calli:ColourScheme.

calli:jqueryui a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:label "jQuery ui";
	rdfs:comment "The jQuery UI theme used for this colour scheme";
	rdfs:domain calli:ColourScheme.

################################
# Message
################################

# interface method used by ManifestSupport
calli:IsAuthorized rdfs:subClassOf msg:Message;
	rdfs:subClassOf [owl:onProperty msg:literal; owl:cardinality "1"^^xsd:nonNegativeInteger];
	rdfs:subClassOf [owl:onProperty msg:literal; owl:allValuesFrom xsd:boolean].

<framework/IsAuthorized#credential> a owl:FunctionalProperty, owl:ObjectProperty;
	rdfs:domain calli:IsAuthorized.

<framework/IsAuthorized#method> a owl:FunctionalProperty, owl:DatatypeProperty;
	rdfs:domain calli:IsAuthorized;
	rdfs:range xsd:string;.

<framework/IsAuthorized#query> a owl:FunctionalProperty, owl:DatatypeProperty;
	rdfs:domain calli:IsAuthorized;
	rdfs:range xsd:string.

################################
# Thing
################################

calli:nobody a calli:NobodyRealm.

