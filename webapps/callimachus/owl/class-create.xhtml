<?xml version="1.0" encoding="UTF-8" ?>
<?xml-stylesheet type="text/xsl" href="/layout/template.xsl"?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
	xmlns:owl="http://www.w3.org/2002/07/owl#">
<head>
	<title>New Class</title>
	<script> // <![CDATA[
	jQuery(function($){
		$(document).bind('DOMNodeInserted', function(event) {
			var label = $('.equivalentLabel', event.target).text();
			var comment = $('.equivalentComment', event.target).text();
			if (label && !$('#label').val()) {
				$('#label').val(label);
				$('#label').change();
			}
			if (comment && !$('#comment').val()) {
				$('#comment').val(comment);
				$('#comment').change();
			}
		});
		$('#form').bind('calliSubmit', function() {
			var ontology = location.href.substring(0, location.href.indexOf('?'));
			if (parent) {
				// copy ontology from parent class
				var about = $('#ontology', parent.document).attr('about');
				if (about) {
					ontology = about;
				}
			}
			$(this).attr('about', ontology + '/' + encodeURI($('#label').val()).replace(/%20/g,'+'));
		});
	}); // ]]>
	</script>
</head>
<body>
	<ul class="aside">
		<li>A class usually represents a noun, such as a person, place or (possibly quite abstract) thing</li>
	</ul>
	<form id="form" about="?this" typeof="owl:Class" action="">
		<h1>New Class</h1>
		<div class="hbox">
			<div>
				<label for="label">Label</label>
				<div data-cardinality="1">
					<input id="label" property="rdfs:label" class="required auto-expand" />
				</div>
				<label for="comment">Comment</label>
				<div data-cardinality="1">
					<textarea id="comment" class="auto-expand" property="rdfs:comment" />
				</div>
			</div>
			<div>
				<label for="equivalentClass">Use existing class</label>
				<div id="equivalentClass" rel="owl:equivalentClass" data-prompt="?create=/callimachus/owl/Class">
					<div about="?equivalentClass" typeof="owl:Class">
						<span class="equivalentLabel" property="rdfs:label" />
						<span style="display:none" class="equivalentComment" property="rdfs:comment" />
					</div>
				</div>
			</div>
		</div>
		<button id="submit" type="submit">Create</button>
	</form>
</body>
</html>
